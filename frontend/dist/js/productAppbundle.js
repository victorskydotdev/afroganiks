(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}document.querySelectorAll(".country-btn");var e=document.querySelector(".user-location-modal"),n=document.querySelectorAll(".dollar-country"),o=document.querySelector(".naira-country"),r=document.querySelector(".cedis-country"),c=document.querySelector(".pound-country"),a=(document.querySelector(".euro-country"),document.querySelectorAll(".amount")),l=document.querySelectorAll(".currency");if(function(){for(var o=0;o<n.length;o++)n[o].addEventListener("click",(function(){for(var n=0;n<l.length;n++){l[n].textContent="$";var o=parseInt(a[n].textContent);e.style.display="none";var r=1*o;a[n].textContent=Math.round(r);var c=parseInt(a[n].textContent);console.log(t(c),c),localStorage.setItem("modalShownForUs",!0),localStorage.setItem("selectedCurrency",l[n].textContent),localStorage.getItem("selectedCurrency")}}))}(),o&&o.addEventListener("click",(function(){for(var t=0;t<l.length;t++){l[t].textContent="N",console.log(a[t].textContent);var n=819.99*parseInt(a[t].textContent);a[t].textContent=Math.round(n),console.log(n),parseInt(a[t].textContent),e.style.display="none",localStorage.setItem("modalShownForNigeria",!0),localStorage.setItem("selectedCurrency",l[t].textContent),localStorage.getItem("selectedCurrency")}})),r&&r.addEventListener("click",(function(){for(var t=0;t<l.length;t++){l[t].textContent="GH₵";var n=11.25*parseInt(a[t].textContent);a[t].textContent=Math.round(n),e.style.display="none",localStorage.setItem("modalShownForGhana",!0),localStorage.setItem("selectedCurrency",l[t].textContent),localStorage.getItem("selectedCurrency")}})),c&&c.addEventListener("click",(function(){for(var t=0;t<l.length;t++){l[t].textContent="£";var n=.79*parseInt(a[t].textContent);a[t].textContent=Math.round(n),e.style.display="none",localStorage.setItem("modalShownForUk",!0),localStorage.setItem("selectedCurrency",l[t].textContent),localStorage.getItem("selectedCurrency")}})),localStorage.getItem("modalShownForNigeria"))for(var u=0;u<a.length;u++){l[u].textContent="N";var i=819.99*parseInt(a[u].textContent);a[u].textContent=Math.round(i),e.style.display="none"}else if(localStorage.getItem("modalShownForGhana"))for(var d=0;d<a.length;d++){l[d].textContent="GH₵";var s=11.25*parseInt(a[d].textContent);a[d].textContent=Math.round(s),e.style.display="none"}else if(localStorage.getItem("modalShownForUk"))for(var y=0;y<a.length;y++){l[y].textContent="£";var m=.91*parseInt(a[y].textContent);a[y].textContent=Math.round(m),e.style.display="none"}else localStorage.getItem("modalShownForUs")&&(e.style.display="none");var p=document.getElementById("cart-btn"),f=document.querySelector(".cart-modal-box"),g=document.querySelector(".cart-close-btn"),S=(document.querySelector(".product-content"),document.querySelector(".emptycart-msg"),document.querySelector(".cart-indicator")),v=document.querySelectorAll(".add-to-cart-btn"),h=localStorage.getItem("selectedCurrency"),C=819.99;document.querySelector(".total-amount"),p.addEventListener("click",(function(){f.style.display="block"})),g&&g.addEventListener("click",(function(){f.style.display="none"})),document.addEventListener("DOMContentLoaded",(function(){function t(e){var n=document.querySelector(".product-content"),o=document.querySelector(".total-amount");n.innerHTML="";var r=document.createElement("p");if(0===e.length)r.textContent="Your cart is empty.",n.appendChild(r),S.style.display="none";else{var c=[];e.forEach((function(o,r){var u,i=document.createElement("div");switch(S.style.display=" block",h){case"N":u="".concat(o.price)*Math.round(C);break;case"£":u="".concat(o.price)*Math.round(.79)-1;break;case"GH₵":u="".concat(o.price)*Math.round(11.25)-1;break;default:u="".concat(o.price)}i.innerHTML='\n          <section class="product-wrap">\n            <div class="wrap">\n              <div class="img-wrap">\n                <img src="'.concat(o.productImage,'">\n              </div>\n\n              <div class="product-info">\n                <h4 class="product-name">').concat(o.name,'</h4>\n\t\t\t\t\t\t\t\t<p class="product-price">').concat(h).concat(u,'</p>\n\n                <span class="quauntity-wrap">\n                  <button class="sub">-</button>\n                  <input class="prod-quantity" value="').concat(o.quantity,'">\n                  <button class="add">+</button>\n                </span>\n              </div>\n            </div>\n\n            <div class="bin-wrap">\n              <i class="fa-solid fa-trash"></i>\n            </div>\n          </section>\n        '),n.appendChild(i);var d=e.map((function(t){return"".concat(t.name)})),s=(JSON.stringify(d),i.querySelector("input")),y=i.querySelector(".sub"),m=i.querySelector(".add");document.querySelector(".prod-quantity"),y.addEventListener("click",(function(){o.quantity>1&&(o.quantity-=1,s.value=o.quantity,a(e),l(e))})),m.addEventListener("click",(function(){o.quantity+=1,s.value=o.quantity,a(e),l(e)})),i.querySelector(".bin-wrap").addEventListener("click",(function(n){e.splice(r,1),localStorage.setItem("cartItems",JSON.stringify(e)),t(e),l(e),location.reload(),window.location.href="/product#product-section"})),console.log("Product: ".concat(o.name,", Quantity: ").concat(o.quantity)),l(e),document.getElementById("cart-checkout").addEventListener("click",(function(){if(e){c.push({name:o.name,quantity:o.quantity});var t=JSON.stringify(c);sessionStorage.setItem("loggedProducts",t),console.log(t),window.location.href="/shipping-info",console.log("button clicked!")}else console.log("your cart is empty")}))}))}function a(t){t.forEach((function(t,e){document.querySelectorAll(".prod-quantity")[e].value=t.quantity}))}function l(t){var e=0;t.forEach((function(t){var n;switch(h){case"N":n="".concat(t.price)*Math.round(C);break;case"£":n="".concat(t.price)*Math.round(.79)-1;break;case"GH₵":n="".concat(t.price)*Math.round(11.25)-1;break;default:n="".concat(t.price)}var o=t.quantity*n;e+=o})),o.textContent="".concat(h," ").concat(e.toFixed(2)),sessionStorage.setItem("total",e)}}fetch("/frontend/json/product-data.json").then((function(t){return t.json()})).then((function(e){var n=JSON.parse(localStorage.getItem("cartItems"))||[];t(n);for(var o=function(){var o=v[r],c=e.products[r].id;o.dataset.prodId=c,o.addEventListener("click",(function(){var r,c,a=o.dataset.prodId;r=e.products.find((function(t){return t.id===a})),(c=n.find((function(t){return t.id===r.id})))?c.quantity+=1:(r.quantity=1,n.push(r)),alert("product added to cart"),t(n),localStorage.setItem("cartItems",JSON.stringify(n))}))},r=0;r<v.length;r++)o()})).catch((function(t){console.error("Error:",t)}))}))})();