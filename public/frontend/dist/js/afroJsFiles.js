"use strict";document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".shipping-form"),e=document.querySelector(".country-input"),n=document.getElementById("customer-name"),o=document.getElementById("email-address"),a=sessionStorage.getItem("destData");e.value="Your shipping destination has been set to: ".concat(a),t.addEventListener("submit",function(t){t.preventDefault();var t=n.value,e=o.value;sessionStorage.setItem("storedName",t),sessionStorage.setItem("storedEmail",e),window.location.href="/success"})});var priceInfo,ProductNameInput,productName=sessionStorage.getItem("productName"),productPrice=parseInt(sessionStorage.getItem("productPrice")),nigeriaBtn=(productPrice||productName?(priceInfo=document.getElementById("price"),(ProductNameInput=document.getElementById("name")).value=productName,priceInfo.value=productPrice):console.log("nothing found in session storage"),document.getElementById("ng-btn")),ghanaBtn=document.getElementById("gh-btn"),usBtn=document.getElementById("us-btn"),togoBtn=document.getElementById("togo-btn"),ivoryCoastBtn=document.getElementById("iv-btn"),ukBtn=document.getElementById("uk-btn"),camBtn=document.getElementById("cameroon-btn"),LibBtn=document.getElementById("lib-btn"),genBtn=document.querySelectorAll(".click-btn"),modal=document.querySelector(".dist-modal"),modalContainer=document.querySelector(".modal-container"),modalCloseBtn=document.querySelector(".modal-close-btn"),distUrl="/frontend/json/distributor-data.json",checkBtnClicked=function(){for(var t=0;t<genBtn.length;t++)genBtn[t].addEventListener("click",function(t){var e,t=t.target.id;switch(console.log(t),t){case"ng-btn":e="Nigeria";break;case"gh-btn":e="Ghana";break;case"us-btn":e="USA";break;case"cameroon-btn":e="Cameroon";break;case"lib-btn":e="Liberia";break;case"togo-btn":e="Togo";break;case"iv-btn":e="Ivory Coast";break;case"uk-btn":e="UK"}e&&fetch(distUrl).then(function(t){return t.json()}).then(function(t){var t=t.distributors.filter(function(t){return t.country===e});0<t.length?(t=t.map(function(t){return'\n                    <div class="content-wrap">\n                      <h3 class="dist-name">'.concat(t.name,'</h3>\n                      <div class="sub-elements">\n\t\t\t\t\t\t\t\t\t\t\t<p>Phone: ').concat(t.phone,"</p>\n                      <p>Address: ").concat(t.address,'</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="call-wrap">\n\t\t\t\t\t\t\t\t\t\t\t\t<a class="dist-call-btn" href="tel:').concat(t.callLine,'"><i class="fa-solid fa-phone"></i> <span class="link-span">Call Distributor</span></a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n                    </div>\n                  ')}).join(""),modalContainer.innerHTML=t,modal.style.display="block",modalCloseBtn.addEventListener("click",function(){modal.style.display="none"})):console.log("No distributors found for ".concat(e))})})},customerNameField=(checkBtnClicked(),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("nav-btn"),e=document.getElementById("nav-toggle");t.addEventListener("click",function(){e.classList.toggle("openNav")})}),require("dotenv").config({}),console.log(process.env.PAYMENT_API_KEY),document.getElementById("customer-name")),productNameField=document.getElementById("product-name"),capturedCustomerName=sessionStorage.getItem("storedName"),capturedProductName=sessionStorage.getItem("productName"),emailValue=sessionStorage.getItem("storedEmail"),priceValue=(console.log(emailValue),parseInt(sessionStorage.getItem("productPrice"))),paymentForm=(console.log(priceValue),customerNameField.textContent=capturedCustomerName,productNameField.textContent=capturedProductName,document.getElementById("payment"));function payWithPaystack(t){t.preventDefault(),PaystackPop.setup({key:"PAYMENT_API_KEY",email:emailValue,amount:100*priceValue,ref:""+Math.floor(1e9*Math.random()+1),onClose:function(){alert("Window closed.")},callback:function(t){t="Payment complete! Reference: "+t.reference;alert(t),window.location.href="/"}}).openIframe()}paymentForm.addEventListener("submit",payWithPaystack,!1);var userLocation=document.querySelectorAll(".country-btn"),userLocationModal=document.querySelector(".user-location-modal"),convertCurrency=function(){for(var t=0;t<userLocation.length;t++){var e=userLocation[t];document.querySelectorAll(".amount"),document.querySelectorAll(".currency");e.addEventListener("click",function(){alert("Hey there! Please we've. Please do bear with us as our development team is actively working to revamp our product page in order to give you an amazing shopping experience on Afroganiks.com. While you are here, please use the WhatsApp icon at the bottom-right of the screen to chat with us directly, thank you!")})}};function renderProduct(t){var e,n=document.getElementById("product-container"),o='\n    <section class="product">\n\n\t\t\t<div class="wrap">\n\t\t\t\t<div class="product-image-wrap">\n\t\t\t\t\t<img class"product-img" src="'.concat(t.productImage,'" alt="').concat(t.name,'">\n\t\t\t\t</div>\n\n\t\t\t\t<div class="product-info">\n\t\t\t\t\t<h1 id="product-name" value="').concat(t.name,'" class="heading">').concat(t.name,'</h1>\n\t\t\t\t\t<p id="product-price" value="').concat(t.price,'" class="price-text">Price: $').concat(t.price,'</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t\x3c!-- ***comment*** product description --\x3e\n\t\t\t\x3c!-- <div class="product-desc-wrap">\n\t\t\t\t<p>').concat(t.description,'</p>\n\t\t\t</div> --\x3e\n\n\t\t\t<div class="payment-box">\n\t\t\t\t<form class="form-wrap" action="#" method="post" netlify>\n\n\t\t\t\t\t<div class="location-wrap">\n\t\t\t\t\t\t<label>Ship to:</label>\n\n\t\t\t\t\t\t<span><i class="fa-solid fa-location-dot"></i> <input type="text" id="userDest" placeholder="Destination" value="" ></span>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\n\t\t\t\t\n\t\t\t\t<button class="btn" id="getToFormPageBtn">Order now</button>\n\t\t\t\t</form>\n\t\t\t\t\n\t\t\t</div>\n    </section>\n  '),a=(n.innerHTML=o,"".concat(t.name)),c="".concat(t.price);n=document.getElementById("getToFormPageBtn"),console.log(n),e=document.getElementById("userDest"),n.addEventListener("click",function(t){t.preventDefault();t=e.value;sessionStorage.setItem("destData",t),sessionStorage.setItem("productName",a),sessionStorage.setItem("productPrice",c),a&&c&&t?(console.log("these are available"),window.location.href="/shipping-info"):console.log("not available")})}convertCurrency(),document.addEventListener("DOMContentLoaded",function(){fetch("/frontend/json/product-data.json").then(function(t){return t.json()}).then(function(n){for(var o=document.querySelectorAll(".order-btn"),a=0;a<o.length;a++)!function(){var t=o[a],e=n.products[a].id;t.dataset.prodId=e,t.addEventListener("click",function(){var e=t.dataset.prodId;n.products.find(function(t){return t.id===e});sessionStorage.setItem("productId",e),window.location.href="/product-description"})}()}).catch(function(t){console.error("Error:",t)})}),document.addEventListener("DOMContentLoaded",function(){var e=sessionStorage.getItem("productId");e?fetch("/frontend/json/product-data.json").then(function(t){return t.json()}).then(function(t){t=t.products.find(function(t){return t.id===e});t?renderProduct(t):console.log("Product not found")}).catch(function(t){console.error("Error:",t)}):console.log("Product ID not found in session storage")});